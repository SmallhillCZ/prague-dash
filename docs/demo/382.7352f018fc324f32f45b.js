"use strict";(self.webpackChunkprague_dash=self.webpackChunkprague_dash||[]).push([[382],{382:(k,h,a)=>{a.r(h),a.d(h,{DashModule:()=>O});var d=a(8583),f=a(9),C=a(4466),l=a(6270),v=a(4762),u=a(3728),g=a(9794),n=a(639),b=a(4379),s=a(3083);let y=(()=>{class o{constructor(t,r,i){this.componentFactoryResolver=t,this.viewContainerRef=r,this.cards=i}ngOnInit(){}ngOnChanges(){this.renderCard(this.card)}renderCard(t){const r=this.cards.find(m=>m.type===t.type);if(!r)return;this.viewContainerRef.clear();const i=this.componentFactoryResolver.resolveComponentFactory(r.component);this.viewContainerRef.createComponent(i).instance.card=t}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(n._Vd),n.Y36(n.s_b),n.Y36(g.g))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-dash-card-content"]],inputs:{card:"card"},features:[n.TTD],decls:0,vars:0,template:function(t,r){},styles:[""],changeDetection:0}),o})(),D=(()=>{class o{constructor(){this.classes={}}ngOnInit(){}ngOnChanges(){this.classes={},this.card.color&&(this.classes["color-"+this.card.color]=!0)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-dash-card"]],inputs:{card:"card"},features:[n.TTD],decls:2,vars:2,consts:[["mode","ios",3,"ngClass"],[3,"card"]],template:function(t,r){1&t&&(n.TgZ(0,"ion-card",0),n._UZ(1,"app-dash-card-content",1),n.qZA()),2&t&&(n.Q6J("ngClass",r.classes),n.xp6(1),n.Q6J("card",r.card))},directives:[s.PM,d.mk,y],styles:["@supports ((-webkit-backdrop-filter: none) or (backdrop-filter: none)){ion-card[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background-color:#ffffffb3}}ion-card.color-pink[_ngcontent-%COMP%]{background-color:#f8607cb3;color:#111}ion-card.color-black[_ngcontent-%COMP%]{background-color:#000000b3;color:#eee}ion-card.color-black[_ngcontent-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{color:#ddd}ion-card.color-blue[_ngcontent-%COMP%]{background-color:#1889f3b3;color:#eee}ion-card.color-blue[_ngcontent-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{color:#ddd}"]}),o})();function T(o,e){if(1&o){const t=n.EpF();n.TgZ(0,"app-dash-card",9),n.NdJ("click",function(){const p=n.CHM(t).$implicit;return n.oxw().openDetail(p)}),n.qZA()}2&o&&n.Q6J("card",e.$implicit)}let c=class{constructor(e,t,r){this.dashboardService=e,this.cardTypes=t,this.navController=r,this.cards=[]}ngOnInit(){this.dashboardService.dashboard.pipe((0,u.t)(this)).subscribe(e=>this.cards=(null==e?void 0:e.cards)||[])}doRefresh(e){this.cards=JSON.parse(JSON.stringify(this.cards)),setTimeout(()=>{var t;null===(t=e.target)||void 0===t||t.complete()},500)}openDetail(e){const t=this.cardTypes.find(r=>r.type===e.type);!t||(t.detailComponent?this.navController.navigateForward("/card/"+e.id):t.settingsComponent&&this.navController.navigateForward("/card/"+e.id+"/settings"))}};c.\u0275fac=function(e){return new(e||c)(n.Y36(b.s),n.Y36(g.g),n.Y36(s.SH))},c.\u0275cmp=n.Xpm({type:c,selectors:[["app-dash"]],decls:13,vars:1,consts:[[1,"ion-no-border"],["color","light"],["slot","primary"],["routerLink","/card/add","color","light"],["name","add-outline"],["color","light","routerLink","/settings"],["name","settings-outline"],["slot","fixed",3,"ionRefresh"],[3,"card","click",4,"ngFor","ngForOf"],[3,"card","click"]],template:function(e,t){1&e&&(n.TgZ(0,"ion-header",0),n.TgZ(1,"ion-toolbar"),n.TgZ(2,"ion-title",1),n._uU(3," PragueDash "),n.qZA(),n.TgZ(4,"ion-buttons",2),n.TgZ(5,"ion-button",3),n._UZ(6,"ion-icon",4),n.qZA(),n.TgZ(7,"ion-button",5),n._UZ(8,"ion-icon",6),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(9,"ion-content"),n.TgZ(10,"ion-refresher",7),n.NdJ("ionRefresh",function(i){return t.doRefresh(i)}),n._UZ(11,"ion-refresher-content"),n.qZA(),n.YNc(12,T,1,1,"app-dash-card",8),n.qZA()),2&e&&(n.xp6(12),n.Q6J("ngForOf",t.cards))},directives:[s.Gu,s.sr,s.wd,s.Sm,s.YG,l.rH,s.YI,s.gu,s.W2,s.nJ,s.Wo,d.sg,D],styles:["ion-content[_ngcontent-%COMP%], ion-toolbar[_ngcontent-%COMP%]{--background: transparent}ion-slides[_ngcontent-%COMP%]{height:100%}ion-slide[_ngcontent-%COMP%]{flex-direction:column;justify-content:flex-start;text-align:left}[_nghost-%COMP%]{background-image:url(/demo/bg.20dac99ae39052c6331d.jpg);background-size:cover;background-position:center}"]}),c=(0,v.gn)([(0,u.c)()],c);const Z=[{path:":category",component:c},{path:"",component:c}];let M=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[l.Bz.forChild(Z)],l.Bz]}),o})(),O=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[d.ez,M,C.m,f.m]]}),o})()}}]);