"use strict";(self.webpackChunkprague_dash=self.webpackChunkprague_dash||[]).push([[7745],{7745:(J,C,s)=>{s.r(C),s.d(C,{CardAddModule:()=>x});var d=s(8583),u=s(6270),f=s(9794),t=s(639),i=s(3083);function b(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"ion-item",3),t.NdJ("click",function(){const l=t.CHM(n).$implicit;return t.oxw().onSelect(l)}),t.TgZ(1,"ion-label"),t._uU(2),t.qZA(),t.qZA()}if(2&e){const n=o.$implicit;t.xp6(2),t.Oqu(n.title.cs)}}let v=(()=>{class e{constructor(n,r){this.navController=n,this.cards=r}ngOnInit(){}onSelect(n){n.selectComponent&&this.navController.navigateForward("/card/add/"+n.type)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(i.SH),t.Y36(f.g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-card-add"]],decls:9,vars:1,consts:[["slot","start"],["defaultHref","/"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(n,r){1&n&&(t.TgZ(0,"ion-header"),t.TgZ(1,"ion-toolbar"),t.TgZ(2,"ion-buttons",0),t._UZ(3,"ion-back-button",1),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5,"P\u0159idat kartu"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"ion-content"),t.TgZ(7,"ion-list"),t.YNc(8,b,3,1,"ion-item",2),t.qZA(),t.qZA()),2&n&&(t.xp6(8),t.Q6J("ngForOf",r.cards))},directives:[i.Gu,i.sr,i.Sm,i.oU,i.cs,i.wd,i.W2,i.q_,d.sg,i.Ie,i.Q$],styles:[""]}),e})();var g=s(8239),T=s(4762),h=s(3728),y=s(4379);let Z=(()=>{class e{constructor(n,r){this.componentFactoryResolver=n,this.viewContainerRef=r,this.select=new t.vpe,this.buttons=new t.vpe}ngOnInit(){}ngOnChanges(){this.removeOldComponent(),this.cardType&&this.renderComponent(this.cardType)}renderComponent(n){var r,c;if(!(null===(r=this.cardType)||void 0===r?void 0:r.selectComponent))return;const l=this.componentFactoryResolver.resolveComponentFactory(n.selectComponent),p=this.viewContainerRef.createComponent(l);this.selectSubscription=p.instance.select.subscribe(m=>this.select.emit(m)),this.buttonsSubscription=null===(c=p.instance.buttons)||void 0===c?void 0:c.subscribe(m=>this.buttons.emit(m))}removeOldComponent(){var n,r;null===(n=this.selectSubscription)||void 0===n||n.unsubscribe(),null===(r=this.buttonsSubscription)||void 0===r||r.unsubscribe(),this.viewContainerRef.clear()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(t._Vd),t.Y36(t.s_b))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-card-selection-content"]],inputs:{cardType:"cardType"},outputs:{select:"select",buttons:"buttons"},features:[t.TTD],decls:0,vars:0,template:function(n,r){},styles:[""]}),e})();function _(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"ion-button",6),t.NdJ("click",function(){return t.CHM(n).$implicit.handler()}),t._UZ(1,"ion-icon",7),t.qZA()}if(2&e){const n=o.$implicit;t.xp6(1),t.Q6J("name",n.icon)}}function A(e,o){if(1&e&&(t.TgZ(0,"ion-buttons",4),t.YNc(1,_,2,1,"ion-button",5),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.buttons)}}let a=class{constructor(o,n,r,c){this.route=o,this.dashboardService=n,this.navController=r,this.cards=c}ngOnInit(){}ionViewWillEnter(){this.route.params.pipe((0,h.t)(this)).subscribe(o=>{this.buttons=void 0,this.cardType=this.cards.find(n=>n.type===o.id)})}createCard(o){var n=this;return(0,g.Z)(function*(){!n.cardType||(yield n.dashboardService.createCard(n.cardType.type,o),n.navController.navigateRoot("/"))})()}};a.\u0275fac=function(o){return new(o||a)(t.Y36(u.gz),t.Y36(y.s),t.Y36(i.SH),t.Y36(f.g))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-card-selection"]],decls:9,vars:3,consts:[["slot","start"],["defaultHref","/card/add"],["slot","end",4,"ngIf"],[3,"cardType","buttons","select"],["slot","end"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"name"]],template:function(o,n){1&o&&(t.TgZ(0,"ion-header"),t.TgZ(1,"ion-toolbar"),t.TgZ(2,"ion-buttons",0),t._UZ(3,"ion-back-button",1),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5),t.qZA(),t.YNc(6,A,2,1,"ion-buttons",2),t.qZA(),t.qZA(),t.TgZ(7,"ion-content"),t.TgZ(8,"app-card-selection-content",3),t.NdJ("buttons",function(c){return n.buttons=c})("select",function(c){return n.createCard(c)}),t.qZA(),t.qZA()),2&o&&(t.xp6(5),t.Oqu(null==n.cardType||null==n.cardType.title?null:n.cardType.title.cs),t.xp6(1),t.Q6J("ngIf",n.buttons),t.xp6(2),t.Q6J("cardType",n.cardType))},directives:[i.Gu,i.sr,i.Sm,i.oU,i.cs,i.wd,d.O5,i.W2,Z,d.sg,i.YG,i.gu],styles:[""]}),a=(0,T.gn)([(0,h.c)()],a);const S=[{path:":id",component:a},{path:"",component:v}];let F=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[u.Bz.forChild(S)],u.Bz]}),e})();var O=s(4466),Y=s(9);let x=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[d.ez,F,O.m,Y.m]]}),e})()}}]);